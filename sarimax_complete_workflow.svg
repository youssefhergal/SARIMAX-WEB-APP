<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1400" height="1000" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="700" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1e293b">
    Complete SARIMAX Model Workflow for Motion Capture Analysis
  </text>
  
  <!-- Section Backgrounds -->
  <!-- Input Data Section -->
  <rect x="50" y="80" width="300" height="200" rx="10" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="200" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e40af">
    üìä Input Data
  </text>
  
  <!-- Mathematical Setup Section -->
  <rect x="400" y="80" width="350" height="200" rx="10" fill="#dcfce7" stroke="#16a34a" stroke-width="2"/>
  <text x="575" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#15803d">
    üßÆ Mathematical Setup
  </text>
  
  <!-- Model Training Section -->
  <rect x="800" y="80" width="300" height="200" rx="10" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
  <text x="950" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#92400e">
    ü§ñ Model Training
  </text>
  
  <!-- Statistical Analysis Section -->
  <rect x="50" y="350" width="400" height="200" rx="10" fill="#fce7f3" stroke="#ec4899" stroke-width="2"/>
  <text x="250" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#be185d">
    üìà Statistical Analysis
  </text>
  
  <!-- Forecasting Section -->
  <rect x="500" y="350" width="400" height="200" rx="10" fill="#ede9fe" stroke="#8b5cf6" stroke-width="2"/>
  <text x="700" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#7c3aed">
    üîÆ Forecasting
  </text>
  
  <!-- Motion Capture Example Section -->
  <rect x="950" y="350" width="400" height="480" rx="10" fill="#f0fdfa" stroke="#14b8a6" stroke-width="2"/>
  <text x="1150" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#0f766e">
    üéØ Motion Capture Example
  </text>
  
  <!-- Input Data Components -->
  <rect x="70" y="130" width="120" height="40" rx="5" fill="#60a5fa" stroke="#2563eb"/>
  <text x="130" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    Endogenous y(t)
  </text>
  <text x="130" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e40af">
    Target Angle Series
  </text>
  
  <rect x="210" y="130" width="120" height="40" rx="5" fill="#60a5fa" stroke="#2563eb"/>
  <text x="270" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    Exogenous X(t)
  </text>
  <text x="270" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e40af">
    Other Angles Matrix
  </text>
  
  <!-- Mathematical Setup Components -->
  <rect x="420" y="130" width="100" height="30" rx="5" fill="#4ade80" stroke="#16a34a"/>
  <text x="470" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    Create Lags
  </text>
  
  <rect x="540" y="130" width="100" height="30" rx="5" fill="#4ade80" stroke="#16a34a"/>
  <text x="590" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    y(t-1), y(t-2)
  </text>
  
  <rect x="420" y="180" width="100" height="30" rx="5" fill="#4ade80" stroke="#16a34a"/>
  <text x="470" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    Current Exog
  </text>
  
  <rect x="540" y="180" width="100" height="30" rx="5" fill="#4ade80" stroke="#16a34a"/>
  <text x="590" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    x‚ÇÅ(t), x‚ÇÇ(t)...
  </text>
  
  <rect x="660" y="155" width="80" height="30" rx="5" fill="#22c55e" stroke="#15803d"/>
  <text x="700" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    Design Matrix X
  </text>
  
  <!-- Model Training Components -->
  <rect x="820" y="130" width="120" height="30" rx="5" fill="#fbbf24" stroke="#d97706"/>
  <text x="880" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    Linear Regression
  </text>
  
  <rect x="820" y="180" width="120" height="30" rx="5" fill="#f59e0b" stroke="#d97706"/>
  <text x="880" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Œ≤ = (X'X + ŒªI)‚Åª¬πX'y
  </text>
  
  <rect x="960" y="155" width="120" height="30" rx="5" fill="#ea580c" stroke="#c2410c"/>
  <text x="1020" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    Model Coefficients
  </text>
  
  <!-- Statistical Analysis Components -->
  <rect x="70" y="400" width="100" height="30" rx="5" fill="#f472b6" stroke="#ec4899"/>
  <text x="120" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    Standard Errors
  </text>
  
  <rect x="190" y="400" width="100" height="30" rx="5" fill="#f472b6" stroke="#ec4899"/>
  <text x="240" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    T-Statistics
  </text>
  
  <rect x="310" y="400" width="100" height="30" rx="5" fill="#f472b6" stroke="#ec4899"/>
  <text x="360" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    P-Values
  </text>
  
  <rect x="70" y="450" width="160" height="40" rx="5" fill="#be185d" stroke="#9f1239"/>
  <text x="150" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Statistical Significance
  </text>
  <text x="150" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Testing (p &lt; 0.05)
  </text>
  
  <rect x="250" y="450" width="160" height="40" rx="5" fill="#be185d" stroke="#9f1239"/>
  <text x="330" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Model Diagnostics
  </text>
  <text x="330" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    R¬≤, AIC, BIC
  </text>
  
  <!-- Forecasting Components -->
  <rect x="520" y="400" width="120" height="30" rx="5" fill="#a78bfa" stroke="#8b5cf6"/>
  <text x="580" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    Prediction Equation
  </text>
  
  <rect x="520" y="450" width="160" height="40" rx="5" fill="#7c3aed" stroke="#6d28d9"/>
  <text x="600" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    ≈∑(t+1) = Œ£Œ≤√óX(t) + Œ£œÜ√óy(t-i)
  </text>
  
  <rect x="700" y="400" width="80" height="30" rx="5" fill="#a78bfa" stroke="#8b5cf6"/>
  <text x="740" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    Static Mode
  </text>
  
  <rect x="700" y="450" width="80" height="30" rx="5" fill="#a78bfa" stroke="#8b5cf6"/>
  <text x="740" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
    Dynamic Mode
  </text>
  
  <!-- Motion Capture Example -->
  <rect x="970" y="400" width="160" height="30" rx="5" fill="#14b8a6" stroke="#0f766e"/>
  <text x="1050" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    Target: Hip_Yrotation(t)
  </text>
  
  <!-- Exogenous Variables -->
  <text x="1050" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#0f766e">
    Exogenous Variables:
  </text>
  
  <rect x="970" y="460" width="120" height="25" rx="3" fill="#5eead4" stroke="#14b8a6"/>
  <text x="1030" y="477" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0f766e">
    LeftArm_Xrotation(t)
  </text>
  
  <rect x="1100" y="460" width="120" height="25" rx="3" fill="#5eead4" stroke="#14b8a6"/>
  <text x="1160" y="477" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0f766e">
    RightArm_Zrotation(t)
  </text>
  
  <rect x="970" y="490" width="120" height="25" rx="3" fill="#5eead4" stroke="#14b8a6"/>
  <text x="1030" y="507" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0f766e">
    Spine_Yrotation(t)
  </text>
  
  <rect x="1100" y="490" width="120" height="25" rx="3" fill="#5eead4" stroke="#14b8a6"/>
  <text x="1160" y="507" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0f766e">
    ... (other angles)
  </text>
  
  <!-- Lagged Endogenous -->
  <text x="1050" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#0f766e">
    Lagged Endogenous:
  </text>
  
  <rect x="970" y="545" width="120" height="25" rx="3" fill="#67e8f9" stroke="#0891b2"/>
  <text x="1030" y="562" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0e7490">
    Hip_Yrotation(t-1)
  </text>
  
  <rect x="1100" y="545" width="120" height="25" rx="3" fill="#67e8f9" stroke="#0891b2"/>
  <text x="1160" y="562" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0e7490">
    Hip_Yrotation(t-2)
  </text>
  
  <!-- Example Coefficients -->
  <text x="1050" y="595" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#0f766e">
    Learned Coefficients:
  </text>
  
  <text x="970" y="615" font-family="Arial, sans-serif" font-size="10" fill="#0f766e">
    Œ≤‚ÇÅ = 0.3 (LeftArm influence)
  </text>
  <text x="970" y="630" font-family="Arial, sans-serif" font-size="10" fill="#0f766e">
    Œ≤‚ÇÇ = -0.1 (RightArm influence)
  </text>
  <text x="970" y="645" font-family="Arial, sans-serif" font-size="10" fill="#0f766e">
    œÜ‚ÇÅ = 0.6 (recent history)
  </text>
  <text x="970" y="660" font-family="Arial, sans-serif" font-size="10" fill="#0f766e">
    œÜ‚ÇÇ = 0.2 (older history)
  </text>
  
  <!-- Estimation Methods -->
  <text x="1050" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#0f766e">
    Estimation Methods:
  </text>
  
  <rect x="970" y="700" width="60" height="25" rx="3" fill="#3b82f6" stroke="#1d4ed8"/>
  <text x="1000" y="717" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    OLS
  </text>
  
  <rect x="1040" y="700" width="60" height="25" rx="3" fill="#eab308" stroke="#ca8a04"/>
  <text x="1070" y="717" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    MLE
  </text>
  
  <rect x="1110" y="700" width="60" height="25" rx="3" fill="#dc2626" stroke="#b91c1c"/>
  <text x="1140" y="717" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Ridge L2
  </text>
  
  <text x="970" y="745" font-family="Arial, sans-serif" font-size="9" fill="#0f766e">
    Œ≤ = (X'X)‚Åª¬πX'y
  </text>
  <text x="1040" y="745" font-family="Arial, sans-serif" font-size="9" fill="#0f766e">
    max L(Œ≤)
  </text>
  <text x="1110" y="745" font-family="Arial, sans-serif" font-size="9" fill="#0f766e">
    Œ≤ = (X'X+ŒªI)‚Åª¬πX'y
  </text>
  
  <!-- Arrows -->
  <!-- Input to Mathematical Setup -->
  <path d="M 350 180 L 390 180" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Mathematical Setup to Model Training -->
  <path d="M 750 180 L 790 180" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Model Training to Statistical Analysis -->
  <path d="M 880 280 L 880 320 L 250 320 L 250 340" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Statistical Analysis to Forecasting -->
  <path d="M 450 470 L 490 470" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Model Training to Motion Capture Example -->
  <path d="M 1020 280 L 1020 320 L 1050 320 L 1050 340" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Mathematical Setup internal arrows -->
  <path d="M 520 145 L 530 145" stroke="#15803d" stroke-width="1" fill="none" marker-end="url(#smallarrow)"/>
  <path d="M 520 195 L 530 195" stroke="#15803d" stroke-width="1" fill="none" marker-end="url(#smallarrow)"/>
  <path d="M 640 170 L 650 170" stroke="#15803d" stroke-width="1" fill="none" marker-end="url(#smallarrow)"/>
  
  <!-- Motion Capture internal arrows -->
  <path d="M 1050 430 L 1050 440" stroke="#0f766e" stroke-width="1" fill="none" marker-end="url(#smallarrow)"/>
  <path d="M 1050 520 L 1050 530" stroke="#0f766e" stroke-width="1" fill="none" marker-end="url(#smallarrow)"/>
  <path d="M 1050 575 L 1050 585" stroke="#0f766e" stroke-width="1" fill="none" marker-end="url(#smallarrow)"/>
  <path d="M 1050 670 L 1050 680" stroke="#0f766e" stroke-width="1" fill="none" marker-end="url(#smallarrow)"/>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
    <marker id="smallarrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#374151"/>
    </marker>
  </defs>
  
  <!-- Bottom Legend -->
  <rect x="50" y="890" width="1300" height="80" rx="10" fill="#f1f5f9" stroke="#64748b"/>
  <text x="700" y="915" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e293b">
    SARIMAX Model: Key Insights
  </text>
  
  <text x="80" y="940" font-family="Arial, sans-serif" font-size="12" fill="#475569">
    ‚Ä¢ <tspan font-weight="bold">Spatial Dependencies:</tspan> Other joint movements influence target joint
  </text>
  <text x="80" y="955" font-family="Arial, sans-serif" font-size="12" fill="#475569">
    ‚Ä¢ <tspan font-weight="bold">Temporal Dependencies:</tspan> Past values of target joint predict future values
  </text>
  
  <text x="750" y="940" font-family="Arial, sans-serif" font-size="12" fill="#475569">
    ‚Ä¢ <tspan font-weight="bold">Statistical Rigor:</tspan> P-values validate coefficient significance
  </text>
  <text x="750" y="955" font-family="Arial, sans-serif" font-size="12" fill="#475569">
    ‚Ä¢ <tspan font-weight="bold">Multiple Methods:</tspan> OLS, MLE, Ridge L2 for robust estimation
  </text>
  
</svg> 
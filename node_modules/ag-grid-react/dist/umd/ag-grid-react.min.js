(function(_e,Ge){typeof exports=="object"&&typeof module=="object"?module.exports=Ge(require("ag-grid-community"),require("react"),require("react-dom")):typeof define=="function"&&define.amd?define("AgGridReact",["ag-grid-community","react","react-dom"],Ge):typeof exports=="object"?exports.AgGridReact=Ge(require("ag-grid-community"),require("react"),require("react-dom")):_e.AgGridReact=Ge(_e.agGrid,_e.React,_e.ReactDOM)})(typeof self<"u"?self:typeof globalThis<"u"?globalThis:this,(_e,Ge,Dt)=>{var tt={},Ie={exports:tt};if(typeof g>"u")var g=function(t){if(t==="ag-grid-community")return _e;if(t==="react")return Ge;if(t==="react-dom")return Dt;throw new Error("Unknown module: "+t)};var Ot=Object.create,ze=Object.defineProperty,It=Object.getOwnPropertyDescriptor,Wt=Object.getOwnPropertyNames,Tt=Object.getPrototypeOf,Nt=Object.prototype.hasOwnProperty,Ht=(e,t)=>{for(var r in t)ze(e,r,{get:t[r],enumerable:!0})},ct=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Wt(t))!Nt.call(e,s)&&s!==r&&ze(e,s,{get:()=>t[s],enumerable:!(n=It(t,s))||n.enumerable});return e},re=(e,t,r)=>(r=e!=null?Ot(Tt(e)):{},ct(t||!e||!e.__esModule?ze(r,"default",{value:e,enumerable:!0}):r,e)),Ut=e=>ct(ze({},"__esModule",{value:!0}),e),it={};Ht(it,{AgGridReact:()=>fs,CustomComponentContext:()=>He,getInstance:()=>gr,useGridCellEditor:()=>gs,useGridDate:()=>Cs,useGridFilter:()=>ys,useGridFilterDisplay:()=>vs,useGridFloatingFilter:()=>Rs,useGridMenuItem:()=>ws,warnReactiveCustomComponents:()=>Qe}),Ie.exports=Ut(it);var lt=re(g("react")),D=re(g("react")),pe=g("ag-grid-community"),L=re(g("react")),Vt=g("ag-grid-community"),ut=re(g("react")),ce=ut.default.createContext({}),dt=ut.default.createContext("default"),We=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const i=e.newAgStackInstance();let o,a,c=!1;return i.then(l=>{if(c){t.destroyBean(l);return}o=l,a=o.getGui(),r.appendChild(a),pt(n,o)}),()=>{c=!0,o&&(a?.parentElement?.removeChild(a),t.destroyBean(o),n&&pt(n,void 0))}},pt=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},$e=re(g("react")),Lt=re(g("react-dom")),ve=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),Re=class Bt{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const s=new Bt;return s.classesMap={...this.classesMap},s.classesMap[t]=r,s}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},xe=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},rt=$e.default.version?.split(".")[0],mt=rt==="16"||rt==="17";function jt(){return rt==="19"}var qe=!1;function zt(e){return qe||setTimeout(()=>qe=!1,0),qe=!0,e()}var Te=(e,t)=>{!mt&&e&&!qe?Lt.default.flushSync(t):t()},$t=e=>{mt?e():$e.default.startTransition(e)};function qt(e,t,r){return $e.default.useSyncExternalStore?$e.default.useSyncExternalStore(e,t):r}function Je(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],s=[],i=new Map,o=new Map;for(let a=0;a<t.length;a++){const c=t[a];o.set(c.instanceId,c)}for(let a=0;a<e.length;a++){const c=e[a];i.set(c.instanceId,c),o.has(c.instanceId)&&n.push(c)}for(let a=0;a<t.length;a++){const c=t[a],l=c.instanceId;i.has(l)||s.push(c)}return n.length===e.length&&s.length===0?e:n.length===0&&s.length===t.length?t:n.length===0?s:s.length===0?n:[...n,...s]}var ft=(0,L.forwardRef)((e,t)=>{const{registry:r,context:n}=(0,L.useContext)(ce),s=(0,L.useRef)(null),i=(0,L.useRef)(null),o=(0,L.useRef)(null),a=(0,L.useRef)(null),c=(0,L.useRef)(null),l=(0,L.useRef)(),[u,b]=(0,L.useState)(),[y,p]=(0,L.useState)(),[w,v]=(0,L.useState)(),[C,d]=(0,L.useState)(()=>new Re),[m,A]=(0,L.useState)(()=>new Re("ag-hidden")),[x,h]=(0,L.useState)(()=>new Re("ag-hidden")),[T,O]=(0,L.useState)(()=>new Re("ag-invisible"));(0,L.useImperativeHandle)(t,()=>({refresh(){return!1}})),(0,L.useLayoutEffect)(()=>We(u,n,i.current),[u]);const K=(0,L.useCallback)(q=>{if(s.current=q,!q){l.current=n.destroyBean(l.current);return}const k={setInnerRenderer:(W,G)=>{b(W),v(G)},setChildCount:W=>p(W),toggleCss:(W,G)=>d(X=>X.setClass(W,G)),setContractedDisplayed:W=>h(G=>G.setClass("ag-hidden",!W)),setExpandedDisplayed:W=>A(G=>G.setClass("ag-hidden",!W)),setCheckboxVisible:W=>O(G=>G.setClass("ag-invisible",!W)),setCheckboxSpacing:W=>O(G=>G.setClass("ag-group-checkbox-spacing",W))},B=r.createDynamicBean("groupCellRendererCtrl",!0);B&&(l.current=n.createBean(B),l.current.init(k,q,o.current,a.current,c.current,ft,e))},[]),V=(0,L.useMemo)(()=>`ag-cell-wrapper ${C.toString()}`,[C]),_=(0,L.useMemo)(()=>`ag-group-expanded ${m.toString()}`,[m]),S=(0,L.useMemo)(()=>`ag-group-contracted ${x.toString()}`,[x]),f=(0,L.useMemo)(()=>`ag-group-checkbox ${T.toString()}`,[T]),R=u?.componentFromFramework,Y=R?u.componentClass:void 0,M=u==null&&w!=null,$=(0,Vt._toString)(w);return L.default.createElement("span",{className:V,ref:K,...e.colDef?{}:{role:l.current?.getCellAriaRole()}},L.default.createElement("span",{className:_,ref:a}),L.default.createElement("span",{className:S,ref:c}),L.default.createElement("span",{className:f,ref:o}),L.default.createElement("span",{className:"ag-group-value",ref:i},M?$:R?L.default.createElement(Y,{...u.params}):null),L.default.createElement("span",{className:"ag-group-child-count"},y))}),ht=ft,st=g("ag-grid-community"),Ne=re(g("react")),Jt=g("react"),He=(0,Jt.createContext)({setMethods:()=>{}}),Kt=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:s}=e,[{key:i,...o},a]=(0,Ne.useState)(t);return(0,Ne.useEffect)(()=>{r(c=>a(c))},[]),Ne.default.createElement(He.Provider,{value:{setMethods:s}},Ne.default.createElement(n,{key:i,...o}))},Qt=(0,Ne.memo)(Kt),Yt=g("react"),Zt=g("react-dom"),nt=g("ag-grid-community"),Xt=0;function gt(){return`agPortalKey_${++Xt}`}var Ct=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=gt(),this.portalKey=gt(),this.instanceCreated=this.isStatelessComponent()?nt.AgPromise.resolve(!1):new nt.AgPromise(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const n=r[e];if(n)return n.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new nt.AgPromise(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,Zt.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,Yt.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Ke(e,t,r){e.forEach(n=>{const s=t[n];s&&(r[n]=s)})}var fe=class extends Ct{constructor(){super(...arguments),this.awaitUpdateCallback=new st.AgPromise(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Qt}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new st.AgPromise(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Ke(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new st.AgPromise(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},er=class extends fe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},tr=class extends fe{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},rr=class extends fe{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:n}=this;return e.label=t,e.icon=r,e.shake=n,e}},yt=g("ag-grid-community"),sr=class extends fe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new yt.AgPromise(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new yt.AgPromise(r=>{this.resolveFilterPassCallback=r});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},nr=g("ag-grid-community"),or=class extends fe{constructor(){super(...arguments),this.awaitSetMethodsCallback=new nr.AgPromise(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}},ar=g("ag-grid-community");function vt(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||ar.AgPromise.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var cr=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Ke(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),vt(this.floatingFilterParams,e)}},ir=class extends fe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),vt(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},lr=class extends fe{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},ur=class extends fe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},dr=class extends fe{refresh(e){this.sourceParams=e,this.refreshProps()}},pr=class extends fe{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},mr=class extends fe{refresh(e){this.sourceParams=e,this.refreshProps()}},fr=class extends fe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},hr=class extends fe{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},Rt=g("ag-grid-community");function gr(e,t){(e?.getInstance?.()??Rt.AgPromise.resolve(void 0)).then(n=>t(n))}function Qe(){(0,Rt._warn)(231)}var Cr=1e3,yr=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||Cr}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Te(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},j=re(g("react")),vr=g("ag-grid-community"),E=re(g("react")),Ee=g("ag-grid-community"),he=re(g("react")),Rr=g("ag-grid-community"),ge=re(g("react")),wr=g("ag-grid-community"),ie=re(g("react")),Sr=g("ag-grid-community"),oe=re(g("react")),Ye=g("ag-grid-community"),br=({ctrl:e})=>{const t=e.isAlive(),{context:r}=(0,oe.useContext)(ce),n=t?e.column.getColId():void 0,[s,i]=(0,oe.useState)(),[o,a]=(0,oe.useState)(),c=(0,oe.useRef)(),l=(0,oe.useRef)(null),u=(0,oe.useRef)(null),b=(0,oe.useRef)(null),y=(0,oe.useRef)(),p=(0,oe.useRef)();t&&!p.current&&(p.current=new Ye.CssClassManager(()=>l.current));const w=(0,oe.useCallback)(m=>{if(l.current=m,c.current=m?r.createBean(new Ye._EmptyBean):r.destroyBean(c.current),!m||!e.isAlive())return;const A=()=>{const h=e.getSelectAllGui();h&&(u.current?.insertAdjacentElement("afterend",h),c.current.addDestroyFunc(()=>h.remove()))},x={setWidth:h=>{l.current&&(l.current.style.width=h)},toggleCss:(h,T)=>p.current.toggleCss(h,T),setUserStyles:h=>a(h),setAriaSort:h=>{l.current&&(h?(0,Ye._setAriaSort)(l.current,h):(0,Ye._removeAriaSort)(l.current))},setUserCompDetails:h=>i(h),getUserCompInstance:()=>y.current||void 0,refreshSelectAllGui:A,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(x,m,u.current,b.current,c.current),A()},[]);(0,oe.useLayoutEffect)(()=>We(s,r,b.current,y),[s]),(0,oe.useEffect)(()=>{e.setDragSource(l.current)},[s]);const v=(0,oe.useMemo)(()=>!!(s?.componentFromFramework&&xe(s.componentClass)),[s]),C=s?.componentFromFramework,d=s?.componentClass;return oe.default.createElement("div",{ref:w,style:o,className:"ag-header-cell","col-id":n,role:"columnheader"},oe.default.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),oe.default.createElement("div",{ref:b,className:"ag-header-cell-comp-wrapper",role:"presentation"},C?v?oe.default.createElement(d,{...s.params}):oe.default.createElement(d,{...s.params,ref:y}):null))},Pr=(0,oe.memo)(br),N=re(g("react")),Er=g("react"),wt=g("ag-grid-community"),Mr=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Ke(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},kr=({ctrl:e})=>{const{context:t,gos:r}=(0,N.useContext)(ce),[n,s]=(0,N.useState)(),[i,o]=(0,N.useState)(()=>new Re("ag-header-cell","ag-floating-filter")),[a,c]=(0,N.useState)(()=>new Re),[l,u]=(0,N.useState)(()=>new Re("ag-floating-filter-button","ag-hidden")),[b,y]=(0,N.useState)("false"),[p,w]=(0,N.useState)(),[,v]=(0,N.useState)(1),C=(0,N.useRef)(),d=(0,N.useRef)(null),m=(0,N.useRef)(null),A=(0,N.useRef)(null),x=(0,N.useRef)(null),h=(0,N.useRef)(),T=(0,N.useRef)(),O=B=>{B!=null&&h.current&&h.current(B)},K=(0,N.useCallback)(B=>{if(d.current=B,C.current=B?t.createBean(new wt._EmptyBean):t.destroyBean(C.current),!B)return;T.current=new wt.AgPromise(G=>{h.current=G});const W={toggleCss:(G,X)=>o(U=>U.setClass(G,X)),setUserStyles:G=>s(G),addOrRemoveBodyCssClass:(G,X)=>c(U=>U.setClass(G,X)),setButtonWrapperDisplayed:G=>{u(X=>X.setClass("ag-hidden",!G)),y(G?"false":"true")},setWidth:G=>{d.current&&(d.current.style.width=G)},setCompDetails:G=>w(G),getFloatingFilterComp:()=>T.current?T.current:null,setMenuIcon:G=>x.current?.appendChild(G)};e.setComp(W,B,x.current,m.current,C.current)},[]);(0,N.useLayoutEffect)(()=>We(p,t,m.current,O),[p]);const V=(0,N.useMemo)(()=>i.toString(),[i]),_=(0,N.useMemo)(()=>a.toString(),[a]),S=(0,N.useMemo)(()=>l.toString(),[l]),f=(0,N.useMemo)(()=>!!(p&&p.componentFromFramework&&xe(p.componentClass)),[p]),R=(0,N.useMemo)(()=>r.get("reactiveCustomComponents"),[]),Y=(0,N.useMemo)(()=>r.get("enableFilterHandlers"),[]),M=(0,N.useRef)();(0,Er.useEffect)(()=>{if(p?.componentFromFramework)if(R){const B=Y?Mr:cr,W=new B(p.params,()=>v(G=>G+1));O(W),M.current=W}else Qe()},[p]);const $=M.current?.getProps(),q=p?.componentFromFramework,k=p?.componentClass;return N.default.createElement("div",{ref:K,style:n,className:V,role:"gridcell"},N.default.createElement("div",{ref:m,className:_,role:"presentation"},q?R?N.default.createElement(He.Provider,{value:{setMethods:B=>M.current.setMethods(B)}},N.default.createElement(k,{...$})):N.default.createElement(k,{...p.params,ref:f?()=>{}:O}):null),N.default.createElement("div",{ref:A,"aria-hidden":b,className:S,role:"presentation"},N.default.createElement("button",{ref:x,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Fr=(0,N.memo)(kr),J=re(g("react")),_r=g("ag-grid-community"),Gr=({ctrl:e})=>{const{context:t}=(0,J.useContext)(ce),[r,n]=(0,J.useState)(),[s,i]=(0,J.useState)(()=>new Re),[o,a]=(0,J.useState)(()=>new Re),[c,l]=(0,J.useState)("false"),[u,b]=(0,J.useState)(),[y,p]=(0,J.useState)(),w=(0,J.useMemo)(()=>e.column.getUniqueId(),[]),v=(0,J.useRef)(),C=(0,J.useRef)(null),d=(0,J.useRef)(null),m=(0,J.useRef)(null),A=(0,J.useRef)(),x=(0,J.useCallback)(_=>{if(C.current=_,v.current=_?t.createBean(new _r._EmptyBean):t.destroyBean(v.current),!_)return;const S={setWidth:f=>{C.current&&(C.current.style.width=f)},toggleCss:(f,R)=>i(Y=>Y.setClass(f,R)),setUserStyles:f=>n(f),setHeaderWrapperHidden:f=>{const R=m.current;R&&(f?R.style.setProperty("display","none"):R.style.removeProperty("display"))},setHeaderWrapperMaxHeight:f=>{const R=m.current;R&&(f!=null?R.style.setProperty("max-height",`${f}px`):R.style.removeProperty("max-height"),R.classList.toggle("ag-header-cell-comp-wrapper-limited-height",f!=null))},setUserCompDetails:f=>p(f),setResizableDisplayed:f=>{a(R=>R.setClass("ag-hidden",!f)),l(f?"false":"true")},setAriaExpanded:f=>b(f),getUserCompInstance:()=>A.current||void 0};e.setComp(S,_,d.current,m.current,v.current)},[]);(0,J.useLayoutEffect)(()=>We(y,t,m.current),[y]),(0,J.useEffect)(()=>{C.current&&e.setDragSource(C.current)},[y]);const h=(0,J.useMemo)(()=>!!(y?.componentFromFramework&&xe(y.componentClass)),[y]),T=(0,J.useMemo)(()=>"ag-header-group-cell "+s.toString(),[s]),O=(0,J.useMemo)(()=>"ag-header-cell-resize "+o.toString(),[o]),K=y?.componentFromFramework,V=y?.componentClass;return J.default.createElement("div",{ref:x,style:r,className:T,"col-id":w,role:"columnheader","aria-expanded":u},J.default.createElement("div",{ref:m,className:"ag-header-cell-comp-wrapper",role:"presentation"},K?h?J.default.createElement(V,{...y.params}):J.default.createElement(V,{...y.params,ref:A}):null),J.default.createElement("div",{ref:d,"aria-hidden":c,className:O}))},xr=(0,J.memo)(Gr),Ar=({ctrl:e})=>{const{context:t}=(0,ie.useContext)(ce),{topOffset:r,rowHeight:n}=(0,ie.useMemo)(()=>e.getTopAndHeight(),[]),s=e.getAriaRowIndex(),i=e.headerRowClass,[o,a]=(0,ie.useState)(()=>n+"px"),[c,l]=(0,ie.useState)(()=>r+"px"),u=(0,ie.useRef)([]),[b,y]=(0,ie.useState)(()=>e.getUpdatedHeaderCtrls()),p=(0,ie.useRef)(),w=(0,ie.useRef)(null),v=(0,ie.useCallback)(m=>{if(w.current=m,p.current=m?t.createBean(new Sr._EmptyBean):t.destroyBean(p.current),!m)return;const A={setHeight:x=>a(x),setTop:x=>l(x),setHeaderCtrls:(x,h,T)=>{const O=u.current,K=Je(O,x,h);K!==O&&(u.current=K,Te(T,()=>y(K)))},setWidth:x=>{w.current&&(w.current.style.width=x)}};e.setComp(A,p.current,!1)},[]),C=(0,ie.useMemo)(()=>({height:o,top:c}),[o,c]),d=(0,ie.useCallback)(m=>{switch(e.type){case"group":return ie.default.createElement(xr,{ctrl:m,key:m.instanceId});case"filter":return ie.default.createElement(Fr,{ctrl:m,key:m.instanceId});default:return ie.default.createElement(Pr,{ctrl:m,key:m.instanceId})}},[]);return ie.default.createElement("div",{ref:v,className:i,role:"row",style:C,"aria-rowindex":s},b.map(d))},Br=(0,ie.memo)(Ar),Dr=({pinned:e})=>{const[t,r]=(0,ge.useState)(!0),[n,s]=(0,ge.useState)([]),{context:i}=(0,ge.useContext)(ce),o=(0,ge.useRef)(null),a=(0,ge.useRef)(null),c=(0,ge.useRef)(),l=e==="left",u=e==="right",b=!l&&!u,y=(0,ge.useCallback)(v=>{if(o.current=v,c.current=v?i.createBean(new wr.HeaderRowContainerCtrl(e)):i.destroyBean(c.current),!v)return;const C={setDisplayed:r,setCtrls:d=>s(d),setCenterWidth:d=>{a.current&&(a.current.style.width=d)},setViewportScrollLeft:d=>{o.current&&(o.current.scrollLeft=d)},setPinnedContainerWidth:d=>{o.current&&(o.current.style.width=d,o.current.style.minWidth=d,o.current.style.maxWidth=d)}};c.current.setComp(C,o.current)},[]),p=t?"":"ag-hidden",w=()=>n.map(v=>ge.default.createElement(Br,{ctrl:v,key:v.instanceId}));return l?ge.default.createElement("div",{ref:y,className:"ag-pinned-left-header "+p,"aria-hidden":!t,role:"rowgroup"},w()):u?ge.default.createElement("div",{ref:y,className:"ag-pinned-right-header "+p,"aria-hidden":!t,role:"rowgroup"},w()):b?ge.default.createElement("div",{ref:y,className:"ag-header-viewport "+p,role:"presentation",tabIndex:-1},ge.default.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},w())):null},ot=(0,ge.memo)(Dr),Or=()=>{const[e,t]=(0,he.useState)(()=>new Re),[r,n]=(0,he.useState)(),{context:s}=(0,he.useContext)(ce),i=(0,he.useRef)(null),o=(0,he.useRef)(),a=(0,he.useCallback)(u=>{if(i.current=u,o.current=u?s.createBean(new Rr.GridHeaderCtrl):s.destroyBean(o.current),!u)return;const b={toggleCss:(y,p)=>t(w=>w.setClass(y,p)),setHeightAndMinHeight:y=>n(y)};o.current.setComp(b,u,u)},[]),c=(0,he.useMemo)(()=>"ag-header "+e.toString(),[e]),l=(0,he.useMemo)(()=>({height:r,minHeight:r}),[r]);return he.default.createElement("div",{ref:a,className:c,style:l,role:"presentation"},he.default.createElement(ot,{pinned:"left"}),he.default.createElement(ot,{pinned:null}),he.default.createElement(ot,{pinned:"right"}))},Ir=(0,he.memo)(Or),Wr=g("react"),Tr=(e,t)=>{(0,Wr.useEffect)(()=>{const r=t.current;if(r){const n=r.parentElement;if(n){const s=document.createComment(e);return n.insertBefore(s,r),()=>{n.removeChild(s)}}}},[e])},Me=Tr,z=re(g("react")),Ue=g("ag-grid-community"),H=re(g("react")),St=g("ag-grid-community"),P=re(g("react")),at=g("ag-grid-community"),Nr=g("ag-grid-community"),Hr=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Nr.AgPromise(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Ke(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},Ae=re(g("react")),Ze=g("react"),Ur=g("react-dom"),bt=g("ag-grid-community"),Be=g("react"),Vr=e=>{const t=(0,Be.useRef)(e),r=(0,Be.useRef)(),n=(0,Be.useRef)(!1),s=(0,Be.useRef)(!1),[,i]=(0,Be.useState)(0);n.current&&(s.current=!0),(0,Be.useEffect)(()=>(n.current||(r.current=t.current(),n.current=!0),i(o=>o+1),()=>{s.current&&r.current?.()}),[])},Lr=e=>{const[t,r]=(0,Ze.useState)(),n=(0,Ze.useContext)(ce),{context:s,popupSvc:i,localeSvc:o,gos:a,editSvc:c}=n,{editDetails:l,cellCtrl:u,eParentCell:b}=e;return Vr(()=>{const{compDetails:y}=l,p=a.get("stopEditingWhenCellsLoseFocus"),w=s.createBean(c.createPopupEditorWrapper(y.params)),v=w.getGui();if(e.jsChildComp){const O=e.jsChildComp.getGui();O&&v.appendChild(O)}const{column:C,rowNode:d}=u,m={column:C,rowNode:d,type:"popupCellEditor",eventSource:b,ePopup:v,position:l.popupPosition,keepWithinBounds:!0},A=i?.positionPopupByComponent.bind(i,m),x=(0,bt._getLocaleTextFunc)(o),h=i?.addPopup({modal:p,eChild:v,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:b,positionCallback:A,ariaLabel:x("ariaLabelCellEditor","Cell Editor")}),T=h?h.hideFunc:void 0;return r(w),e.jsChildComp?.afterGuiAttached?.(),()=>{T?.(),s.destroyBean(w)}}),(0,Ze.useLayoutEffect)(()=>()=>{u.isCellFocused()&&t?.getGui().contains((0,bt._getActiveDomElement)(n))&&b.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?(0,Ur.createPortal)(e.wrappedContent,t.getGui()):null},Pt=(0,Ze.memo)(Lr),jr=(e,t,r)=>{const{compProxy:n}=e;r(n);const s=n.getProps(),i=xe(t);return Ae.default.createElement(He.Provider,{value:{setMethods:o=>n.setMethods(o)}},i?Ae.default.createElement(t,{...s}):Ae.default.createElement(t,{...s,ref:o=>n.setRef(o)}))},Et=(e,t,r)=>e.compProxy?jr(e,t,r):Ae.default.createElement(t,{...e.compDetails.params,ref:r}),zr=(e,t,r,n,s)=>{const i=e.compDetails,o=i.componentClass,a=i.componentFromFramework&&!e.popup,c=i.componentFromFramework&&e.popup,l=!i.componentFromFramework&&e.popup;return a?Et(e,o,t):c?Ae.default.createElement(Pt,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:Et(e,o,t)}):l&&s?Ae.default.createElement(Pt,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:s}):null},Xe=g("react"),$r=(e,t,r,n,s,i)=>{const{context:o}=(0,Xe.useContext)(ce),a=(0,Xe.useCallback)(()=>{const c=s.current;if(!c)return;const l=c.getGui();l&&l.parentElement&&l.parentElement.removeChild(l),o.destroyBean(c),s.current=void 0},[]);(0,Xe.useEffect)(()=>{const c=e!=null,l=e?.compDetails&&!e.compDetails.componentFromFramework,u=t&&r==null;if(!(c&&l&&!u)){a();return}const y=e.compDetails;if(s.current){const w=s.current,C=w.refresh!=null&&e.force==!1?w.refresh(y.params):!1;if(C===!0||C===void 0)return;a()}y.newAgStackInstance().then(w=>{if(!w)return;const v=w.getGui();if(!v)return;(t?r:i.current).appendChild(v),s.current=w})},[e,t,n]),(0,Xe.useEffect)(()=>a,[])},Mt=$r,Ve=re(g("react")),qr=({cellCtrl:e,parent:t})=>{const r=(0,Ve.useRef)(),n=(0,Ve.useMemo)(()=>{const{loadingComp:s}=e.getDeferLoadingCellRenderer();return s?{value:void 0,compDetails:s,force:!1}:void 0},[e]);if(Mt(n,!1,void 0,1,r,t),n?.compDetails?.componentFromFramework){const s=n.compDetails.componentClass;return Ve.default.createElement(s,{...n.compDetails.params})}return Ve.default.createElement(Ve.default.Fragment,null)},Jr=({cellCtrl:e,printLayout:t,editingCell:r})=>{const n=(0,P.useContext)(ce),{context:s}=n,{column:{colIdSanitised:i},instanceId:o}=e,a=(0,P.useRef)(),[c,l]=(0,P.useState)(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,b]=(0,P.useState)(),[y,p]=(0,P.useState)(1),[w,v]=(0,P.useState)(),[C,d]=(0,P.useState)(!1),[m,A]=(0,P.useState)(!1),[x,h]=(0,P.useState)(!1),[T,O]=(0,P.useState)(),K=(0,P.useMemo)(()=>e.isForceWrapper(),[e]),V=(0,P.useMemo)(()=>e.getCellAriaRole(),[e]),_=(0,P.useRef)(null),S=(0,P.useRef)(null),f=(0,P.useRef)(null),R=(0,P.useRef)(),Y=(0,P.useRef)(),M=(0,P.useRef)(),$=(0,P.useRef)([]),q=(0,P.useRef)(),[k,B]=(0,P.useState)(0),W=(0,P.useCallback)(F=>{q.current=F,B(Q=>Q+1)},[]),G=c!=null&&(C||x||m)&&(u==null||!!u.popup),X=K||G,U=(0,P.useCallback)(F=>{if(Y.current=F,F){const Q=F.isCancelBeforeStart&&F.isCancelBeforeStart();setTimeout(()=>{Q?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(F))})}},[e]),se=(0,P.useRef)();se.current||(se.current=new at.CssClassManager(()=>_.current)),Mt(c,X,q.current,k,R,_);const ae=(0,P.useRef)();(0,P.useLayoutEffect)(()=>{const F=ae.current,Q=c;if(ae.current=c,F==null||F.compDetails==null||Q==null||Q.compDetails==null)return;const te=F.compDetails,we=Q.compDetails;if(te.componentClass!=we.componentClass||f.current?.refresh==null)return;f.current.refresh(we.params)!=!0&&p(ne=>ne+1)},[c]),(0,P.useLayoutEffect)(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const Q=u.compDetails,te=u.popup===!0,we=Q.newAgStackInstance();return we.then(I=>{if(!I)return;const ne=I.getGui();U(I),te||((K?M:_).current?.appendChild(ne),I.afterGuiAttached&&I.afterGuiAttached()),O(I)}),()=>{we.then(I=>{const ne=I.getGui();e.disableEditorTooltipFeature(),s.destroyBean(I),U(void 0),O(void 0),ne?.parentElement?.removeChild(ne)})}},[u]);const be=(0,P.useCallback)(F=>{if(M.current=F,!F){$.current.forEach(te=>te()),$.current=[];return}const Q=te=>{if(te){const we=te.getGui();F.insertAdjacentElement("afterbegin",we),$.current.push(()=>{s.destroyBean(te),(0,at._removeFromParent)(we)})}return te};if(C){const te=e.createSelectionCheckbox();Q(te)}x&&Q(e.createDndSource()),m&&Q(e.createRowDragComp())},[e,s,x,m,C]),Oe=(0,P.useCallback)(()=>{const F=!e.isCellSpanning()||S.current,Q=_.current;if(a.current=Q?s.createBean(new at._EmptyBean):s.destroyBean(a.current),!Q||!F||!e)return;const te={toggleCss:(I,ne)=>se.current.toggleCss(I,ne),setUserStyles:I=>v(I),getFocusableElement:()=>_.current,setIncludeSelection:I=>d(I),setIncludeRowDrag:I=>A(I),setIncludeDndSource:I=>h(I),getCellEditor:()=>Y.current||null,getCellRenderer:()=>f.current??R.current,getParentOfValue:()=>q.current??M.current??_.current,setRenderDetails:(I,ne,le)=>{const ue=()=>{l(de=>de?.compDetails!==I||de?.value!==ne||de?.force!==le?{value:ne,compDetails:I,force:le}:de)};if(I?.params?.deferRender&&!e.rowNode.group){const{loadingComp:de,onReady:Pe}=e.getDeferLoadingCellRenderer();if(de){l({value:void 0,compDetails:de,force:!1}),Pe.then(()=>$t(ue));return}}ue()},setEditDetails:(I,ne,le,ue)=>{if(I){let de;ue?de=new Hr(I.params,()=>p(Pe=>Pe+1)):I.componentFromFramework&&Qe(),b({compDetails:I,popup:ne,popupPosition:le,compProxy:de}),ne||l(void 0)}else e.hasBrowserFocus()&&te.getFocusableElement().focus({preventScroll:!0}),b(Pe=>{Pe?.compProxy&&(Y.current=void 0)})},refreshEditStyles:(I,ne)=>{if(!_.current)return;const{current:le}=se;le.toggleCss("ag-cell-value",!X),le.toggleCss("ag-cell-inline-editing",!!I&&!ne),le.toggleCss("ag-cell-popup-editing",!!I&&!!ne),le.toggleCss("ag-cell-not-inline-editing",!I||!!ne)}},we=M.current||void 0;e.setComp(te,Q,S.current??void 0,we,t,r,a.current)},[]),Le=(0,P.useCallback)(F=>{_.current=F,Oe()},[]),Z=(0,P.useCallback)(F=>{S.current=F,Oe()},[]),ke=(0,P.useMemo)(()=>!!(c?.compDetails?.componentFromFramework&&xe(c.compDetails.componentClass)),[c]);(0,P.useLayoutEffect)(()=>{if(!_.current)return;const{current:F}=se;F.toggleCss("ag-cell-value",!X),F.toggleCss("ag-cell-inline-editing",!!u&&!u.popup),F.toggleCss("ag-cell-popup-editing",!!u&&!!u.popup),F.toggleCss("ag-cell-not-inline-editing",!u||!!u.popup)});const me=()=>{const{compDetails:F,value:Q}=c;if(!F)return Q?.toString?.()??Q;if(F.componentFromFramework){const te=F.componentClass;return P.default.createElement(P.Suspense,{fallback:P.default.createElement(qr,{cellCtrl:e,parent:_})},ke?P.default.createElement(te,{...F.params,key:y}):P.default.createElement(te,{...F.params,key:y,ref:f}))}},Se=()=>{const F=()=>c==null?null:X?P.default.createElement("span",{role:"presentation",id:`cell-${o}`,className:"ag-cell-value",ref:W},me()):me(),Q=te=>zr(te,U,_.current,e,T);return u!=null?u.popup?P.default.createElement(P.default.Fragment,null,F(),Q(u)):Q(u):F()},Fe=()=>P.default.createElement("div",{ref:Le,style:w,role:V,"col-id":i},X?P.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:be},Se()):Se());return e.isCellSpanning()?P.default.createElement("div",{ref:Z,className:"ag-spanned-cell-wrapper",role:"presentation"},Fe()):Fe()},Kr=(0,P.memo)(Jr),Qr=({rowCtrl:e,containerType:t})=>{const{context:r,gos:n,editSvc:s}=(0,H.useContext)(ce),i=(0,H.useContext)(dt)==="default",o=(0,H.useRef)(),a=(0,H.useRef)(e.getDomOrder()),c=e.isFullWidth(),l=e.rowNode.displayed,[u,b]=(0,H.useState)(()=>l?e.rowNode.getRowIndexString():null),[y,p]=(0,H.useState)(()=>e.rowId),[w,v]=(0,H.useState)(()=>e.businessKey),[C,d]=(0,H.useState)(()=>e.rowStyles),m=(0,H.useRef)(null),[A,x]=(0,H.useState)(()=>null),[h,T]=(0,H.useState)(),[O,K]=(0,H.useState)(()=>l?e.getInitialRowTop(t):void 0),[V,_]=(0,H.useState)(()=>l?e.getInitialTransform(t):void 0),S=(0,H.useRef)(null),f=(0,H.useRef)(),R=(0,H.useRef)(!1),[Y,M]=(0,H.useState)(0);(0,H.useEffect)(()=>{if(R.current||!h||Y>10)return;const Z=S.current?.firstChild;Z?(e.setupDetailRowAutoHeight(Z),R.current=!0):M(ke=>ke+1)},[h,Y]);const $=(0,H.useRef)();$.current||($.current=new St.CssClassManager(()=>S.current));const q=(0,H.useRef)(()=>{}),k=(0,H.useCallback)(Z=>(q.current=Z,()=>{q.current=()=>{}}),[]),B=qt(k,()=>m.current,[]),W=i?B:A,G=(0,H.useCallback)(Z=>{if(S.current=Z,o.current=Z?r.createBean(new St._EmptyBean):r.destroyBean(o.current),!Z){e.unsetComp(t);return}if(!e.isAlive())return;const ke={setTop:K,setTransform:_,toggleCss:(me,Se)=>$.current.toggleCss(me,Se),setDomOrder:me=>a.current=me,setRowIndex:b,setRowId:p,setRowBusinessKey:v,setUserStyles:d,setCellCtrls:(me,Se)=>{const Fe=m.current,F=Je(Fe,me,a.current);F!==Fe&&(m.current=F,i?q.current():Te(Se,()=>x(F)))},showFullWidth:me=>T(me),getFullWidthCellRenderer:()=>f.current,refreshFullWidth:me=>be.current?(T(Se=>({...Se,params:me()})),!0):!f.current||!f.current.refresh?!1:f.current.refresh(me())};e.setComp(ke,Z,t,o.current)},[]);(0,H.useLayoutEffect)(()=>We(h,r,S.current,f),[h]);const X=(0,H.useMemo)(()=>{const Z={top:O,transform:V};return Object.assign(Z,C),Z},[O,V,C]),U=c&&h?.componentFromFramework,se=!c&&W!=null,ae=(0,H.useMemo)(()=>!!(h?.componentFromFramework&&xe(h.componentClass)),[h]),be=(0,H.useRef)(!1);(0,H.useEffect)(()=>{be.current=ae&&!!h&&!!n.get("reactiveCustomComponents")},[ae,h]);const Oe=()=>W?.map(Z=>H.default.createElement(Kr,{cellCtrl:Z,editingCell:s?.isEditing(Z,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:Z.instanceId})),Le=()=>{const Z=h.componentClass;return ae?H.default.createElement(Z,{...h.params}):H.default.createElement(Z,{...h.params,ref:f})};return H.default.createElement("div",{ref:G,role:"row",style:X,"row-index":u,"row-id":y,"row-business-key":w},se?Oe():U?Le():null)},kt=(0,H.memo)(Qr),Yr=({name:e})=>{const{context:t,gos:r}=(0,z.useContext)(ce),n=(0,z.useMemo)(()=>(0,Ue._getRowContainerOptions)(e),[e]),s=(0,z.useRef)(null),i=(0,z.useRef)(null),o=(0,z.useRef)(null),a=(0,z.useRef)([]),c=(0,z.useRef)([]),[l,u]=(0,z.useState)(()=>[]),b=!!r.get("enableCellSpan")&&!!n.getSpannedRowCtrls,y=(0,z.useRef)([]),p=(0,z.useRef)([]),[w,v]=(0,z.useState)(()=>[]),C=(0,z.useRef)(!1),d=(0,z.useRef)(),m=(0,z.useMemo)(()=>ve("ag-viewport",(0,Ue._getRowViewportClass)(e)),[e]),A=(0,z.useMemo)(()=>ve((0,Ue._getRowContainerClass)(e)),[e]),x=(0,z.useMemo)(()=>ve("ag-spanning-container",(0,Ue._getRowSpanContainerClass)(e)),[e]),h=n.type==="center"||b,T=h?s:i;Me(" AG Row Container "+e+" ",T);const O=(0,z.useCallback)(()=>{const M=!h||s.current!=null,$=i.current!=null,q=!b||o.current!=null;return M&&$&&q},[]),K=(0,z.useCallback)(()=>s.current==null&&i.current==null&&o.current==null,[]),V=(0,z.useCallback)(()=>{if(K()&&(d.current=t.destroyBean(d.current)),O()){const M=k=>{const B=Je(c.current,a.current,C.current);B!==c.current&&(c.current=B,Te(k,()=>u(B)))},$=k=>{const B=Je(p.current,y.current,C.current);B!==p.current&&(p.current=B,Te(k,()=>v(B)))},q={setHorizontalScroll:k=>{s.current&&(s.current.scrollLeft=k)},setViewportHeight:k=>{s.current&&(s.current.style.height=k)},setRowCtrls:({rowCtrls:k,useFlushSync:B})=>{const W=!!B&&a.current.length>0&&k.length>0;a.current=k,M(W)},setSpannedRowCtrls:(k,B)=>{const W=!!B&&y.current.length>0&&k.length>0;y.current=k,$(W)},setDomOrder:k=>{C.current!=k&&(C.current=k,M(!1))},setContainerWidth:k=>{i.current&&(i.current.style.width=k)},setOffsetTop:k=>{i.current&&(i.current.style.transform=`translateY(${k})`)}};d.current=t.createBean(new Ue.RowContainerCtrl(e)),d.current.setComp(q,i.current,o.current??void 0,s.current)}},[O,K]),_=(0,z.useCallback)(M=>{i.current=M,V()},[V]),S=(0,z.useCallback)(M=>{o.current=M,V()},[V]),f=(0,z.useCallback)(M=>{s.current=M,V()},[V]),R=()=>z.default.createElement("div",{className:A,ref:_,role:"rowgroup"},l.map(M=>z.default.createElement(kt,{rowCtrl:M,containerType:n.type,key:M.instanceId})));if(!h)return R();const Y=()=>z.default.createElement("div",{className:x,ref:S,role:"rowgroup"},w.map(M=>z.default.createElement(kt,{rowCtrl:M,containerType:n.type,key:M.instanceId})));return z.default.createElement("div",{className:m,ref:f,role:"presentation"},R(),b?Y():null)},Zr=(0,z.memo)(Yr),Xr=()=>{const e=(0,E.useContext)(ce),{context:t,overlays:r}=e,[n,s]=(0,E.useState)(""),[i,o]=(0,E.useState)(0),[a,c]=(0,E.useState)(0),[l,u]=(0,E.useState)("0px"),[b,y]=(0,E.useState)("0px"),[p,w]=(0,E.useState)("100%"),[v,C]=(0,E.useState)("0px"),[d,m]=(0,E.useState)("0px"),[A,x]=(0,E.useState)("100%"),[h,T]=(0,E.useState)(!0),[O,K]=(0,E.useState)(!0),[V,_]=(0,E.useState)(null),[S,f]=(0,E.useState)(""),[R,Y]=(0,E.useState)(null),[M,$]=(0,E.useState)("ag-layout-normal"),q=(0,E.useRef)();q.current||(q.current=new Ee.CssClassManager(()=>k.current));const k=(0,E.useRef)(null),B=(0,E.useRef)(null),W=(0,E.useRef)(null),G=(0,E.useRef)(null),X=(0,E.useRef)(null),U=(0,E.useRef)(null),se=(0,E.useRef)(null),ae=(0,E.useRef)([]),be=(0,E.useRef)([]);Me(" AG Grid Body ",k),Me(" AG Pinned Top ",B),Me(" AG Sticky Top ",W),Me(" AG Middle ",U),Me(" AG Pinned Bottom ",se);const Oe=(0,E.useCallback)(ue=>{if(k.current=ue,!ue){ae.current=t.destroyBeans(ae.current),be.current.forEach(ee=>ee()),be.current=[];return}if(!t)return;const de=(ee,ye)=>{ee.appendChild(ye),be.current.push(()=>ee.removeChild(ye))},Pe=ee=>{const ye=t.createBean(new ee);return ae.current.push(ye),ye},je=(ee,ye,Ps)=>{de(ee,document.createComment(Ps)),de(ee,Pe(ye).getGui())};je(ue,Ee.FakeHScrollComp," AG Fake Horizontal Scroll ");const xt=r?.getOverlayWrapperCompClass();xt&&je(ue,xt," AG Overlay Wrapper "),X.current&&je(X.current,Ee.FakeVScrollComp," AG Fake Vertical Scroll ");const bs={setRowAnimationCssOnBodyViewport:s,setColumnCount:ee=>{k.current&&(0,Ee._setAriaColCount)(k.current,ee)},setRowCount:ee=>{k.current&&(0,Ee._setAriaRowCount)(k.current,ee)},setTopHeight:o,setBottomHeight:c,setStickyTopHeight:u,setStickyTopTop:y,setStickyTopWidth:w,setTopInvisible:T,setBottomInvisible:K,setColumnMovingCss:(ee,ye)=>q.current.toggleCss(ee,ye),updateLayoutClasses:$,setAlwaysVerticalScrollClass:_,setPinnedTopBottomOverflowY:f,setCellSelectableCss:(ee,ye)=>Y(ye?ee:null),setBodyViewportWidth:ee=>{U.current&&(U.current.style.width=ee)},registerBodyViewportResizeListener:ee=>{if(U.current){const ye=(0,Ee._observeResize)(e,U.current,ee);be.current.push(()=>ye())}},setStickyBottomHeight:C,setStickyBottomBottom:m,setStickyBottomWidth:x,setGridRootRole:ee=>ue.setAttribute("role",ee)},At=t.createBean(new Ee.GridBodyCtrl);ae.current.push(At),At.setComp(bs,ue,U.current,B.current,se.current,W.current,G.current)},[]),Le=(0,E.useMemo)(()=>ve("ag-root","ag-unselectable",M),[M]),Z=(0,E.useMemo)(()=>ve("ag-body-viewport",n,M,V,R),[n,M,V,R]),ke=(0,E.useMemo)(()=>ve("ag-body",M),[M]),me=(0,E.useMemo)(()=>ve("ag-floating-top",h?"ag-invisible":null,R),[R,h]),Se=(0,E.useMemo)(()=>ve("ag-sticky-top",R),[R]),Fe=(0,E.useMemo)(()=>ve("ag-sticky-bottom",v==="0px"?"ag-invisible":null,R),[R,v]),F=(0,E.useMemo)(()=>ve("ag-floating-bottom",O?"ag-invisible":null,R),[R,O]),Q=(0,E.useMemo)(()=>({height:i,minHeight:i,overflowY:S}),[i,S]),te=(0,E.useMemo)(()=>({height:l,top:b,width:p}),[l,b,p]),we=(0,E.useMemo)(()=>({height:v,bottom:d,width:A}),[v,d,A]),I=(0,E.useMemo)(()=>({height:a,minHeight:a,overflowY:S}),[a,S]),ne=ue=>E.default.createElement(Zr,{name:ue,key:`${ue}-container`}),le=({section:ue,children:de,className:Pe,style:je})=>E.default.createElement("div",{ref:ue,className:Pe,role:"presentation",style:je},de.map(ne));return E.default.createElement("div",{ref:Oe,className:Le},E.default.createElement(Ir,null),le({section:B,className:me,style:Q,children:["topLeft","topCenter","topRight","topFullWidth"]}),E.default.createElement("div",{className:ke,ref:X,role:"presentation"},le({section:U,className:Z,children:["left","center","right","fullWidth"]})),le({section:W,className:Se,style:te,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),le({section:G,className:Fe,style:we,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),le({section:se,className:F,style:I,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},es=(0,E.memo)(Xr),Ce=re(g("react")),et=g("ag-grid-community"),ts=(e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:s,gridCtrl:i,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:c}=(0,Ce.useContext)(ce),l=(0,Ce.useRef)(null),u=(0,Ce.useRef)(null),b=(0,Ce.useRef)(),y=d=>{const m=d==null?void 0:parseInt(d,10).toString();[l,u].forEach(A=>{m===void 0?A.current?.removeAttribute("tabindex"):A.current?.setAttribute("tabindex",m)})};(0,Ce.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(d){b.current?.forceFocusOutOfContainer(d)}}));const p=(0,Ce.useCallback)(()=>{const d=l.current,m=u.current;if(!d&&!m){b.current=c.destroyBean(b.current);return}if(d&&m){const A={setTabIndex:y};b.current=c.createBean(new et.TabGuardCtrl({comp:A,eTopGuard:d,eBottomGuard:m,eFocusableElement:n,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:x=>i.focusInnerElement(x),isEmpty:a}))}},[]),w=(0,Ce.useCallback)(d=>{l.current=d,p()},[p]),v=(0,Ce.useCallback)(d=>{u.current=d,p()},[p]),C=d=>{const m=d==="top"?et.TabGuardClassNames.TAB_GUARD_TOP:et.TabGuardClassNames.TAB_GUARD_BOTTOM;return Ce.default.createElement("div",{className:`${et.TabGuardClassNames.TAB_GUARD} ${m}`,role:"presentation",ref:d==="top"?w:v})};return Ce.default.createElement(Ce.default.Fragment,null,C("top"),r,C("bottom"))},rs=(0,Ce.forwardRef)(ts),ss=(0,Ce.memo)(rs),ns=({context:e})=>{const[t,r]=(0,j.useState)(""),[n,s]=(0,j.useState)(""),[i,o]=(0,j.useState)(null),[a,c]=(0,j.useState)(null),[l,u]=(0,j.useState)(!1),[b,y]=(0,j.useState)(),p=(0,j.useRef)(),w=(0,j.useRef)(null),v=(0,j.useRef)(),[C,d]=(0,j.useState)(null),m=(0,j.useRef)(()=>{}),A=(0,j.useRef)(),x=(0,j.useRef)([]),h=(0,j.useCallback)(()=>{},[]),T=(0,j.useMemo)(()=>e.isDestroyed()?null:e.getBeans(),[e]);Me(" AG Grid ",w);const O=(0,j.useCallback)(R=>{if(w.current=R,p.current=R?e.createBean(new vr.GridCtrl):e.destroyBean(p.current),!R||e.isDestroyed())return;const Y=p.current;m.current=Y.focusInnerElement.bind(Y);const M={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:$=>{if(!$&&A.current?.isDisplayed()){A.current.forceFocusOutOfContainer($);return}v.current?.forceFocusOutOfContainer($)},updateLayoutClasses:s,getFocusableContainers:()=>{const $=[],q=w.current?.querySelector(".ag-root");return q&&$.push({getGui:()=>q}),x.current.forEach(k=>{k.isDisplayed()&&$.push(k)}),$},setCursor:o,setUserSelect:c};Y.setComp(M,R,R),u(!0)},[]);(0,j.useEffect)(()=>{const R=p.current,Y=w.current;if(!b||!T||!R||!C||!Y)return;const M=[],{watermarkSelector:$,paginationSelector:q,sideBarSelector:k,statusBarSelector:B,gridHeaderDropZonesSelector:W}=R.getOptionalSelectors(),G=[];if(W){const U=e.createBean(new W.component),se=U.getGui();Y.insertAdjacentElement("afterbegin",se),G.push(se),M.push(U)}if(k){const U=e.createBean(new k.component),se=U.getGui(),ae=C.querySelector(".ag-tab-guard-bottom");ae&&(ae.insertAdjacentElement("beforebegin",se),G.push(se)),M.push(U),x.current.push(U)}const X=U=>{const se=e.createBean(new U),ae=se.getGui();return Y.insertAdjacentElement("beforeend",ae),G.push(ae),M.push(se),se};if(B&&X(B.component),q){const U=X(q.component);A.current=U,x.current.push(U)}return $&&X($.component),()=>{e.destroyBeans(M),G.forEach(U=>{U.parentElement?.removeChild(U)})}},[b,C,T]);const K=(0,j.useMemo)(()=>ve("ag-root-wrapper",t,n),[t,n]),V=(0,j.useMemo)(()=>ve("ag-root-wrapper-body","ag-focus-managed",n),[n]),_=(0,j.useMemo)(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:i??""}),[a,i]),S=(0,j.useCallback)(R=>{v.current=R,y(R!==null)},[]),f=(0,j.useCallback)(()=>!p.current?.isFocusable(),[]);return j.default.createElement("div",{ref:O,className:K,style:_,role:"presentation"},j.default.createElement("div",{className:V,ref:d,role:"presentation"},l&&C&&T&&j.default.createElement(ce.Provider,{value:T},j.default.createElement(ss,{ref:S,eFocusableElement:C,onTabKeyDown:h,gridCtrl:p.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:f},j.default.createElement(es,null)))))},os=(0,j.memo)(ns),as=g("ag-grid-community"),cs=class extends as.BeanStub{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},Ft={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},is={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...Ft},_t=new Set(Object.keys(is)),ls=new Set(Object.keys(Ft)),Gt=e=>{const t=(0,D.useRef)(),r=(0,D.useRef)(null),n=(0,D.useRef)(null),s=(0,D.useRef)([]),i=(0,D.useRef)([]),o=(0,D.useRef)(e),a=(0,D.useRef)(),c=(0,D.useRef)(),l=(0,D.useRef)(!1),[u,b]=(0,D.useState)(void 0),[,y]=(0,D.useState)(0),p=(0,D.useCallback)(d=>{if(r.current=d,!d){s.current.forEach(S=>S()),s.current.length=0;return}const m=e.modules||[];n.current||(n.current=new yr(()=>y(S=>S+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),s.current.push(()=>{n.current?.destroy(),n.current=null}));const A=(0,pe._combineAttributesAndGridOptions)(e.gridOptions,e,Object.keys(e).filter(S=>!_t.has(S))),x=()=>{if(l.current){const S=()=>a.current?.shouldQueueUpdates()?void 0:i.current.shift();let f=S();for(;f;)f(),f=S()}},h=new ms(x);a.current=h;const T=new cs,O={providedBeanInstances:{frameworkCompWrapper:new ds(n.current,A),renderStatus:T},modules:m,frameworkOverrides:h,setThemeOnGridDiv:!0},K=S=>{b(S),S.createBean(T),s.current.push(()=>{S.destroy()}),S.getBean("ctrlsSvc").whenReady({addDestroyFunc:f=>{s.current.push(f)}},()=>{if(S.isDestroyed())return;const f=t.current;f&&e.passGridApi?.(f)})},V=S=>{S.getBean("ctrlsSvc").whenReady({addDestroyFunc:f=>{s.current.push(f)}},()=>{i.current.forEach(f=>f()),i.current.length=0,l.current=!0})},_=new pe.GridCoreCreator;A.gridId??(A.gridId=c.current),t.current=_.create(d,A,K,V,O),s.current.push(()=>{t.current=void 0}),t.current&&(c.current=t.current.getGridId())},[]),w=(0,D.useMemo)(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),v=(0,D.useCallback)(d=>{l.current&&!a.current?.shouldQueueUpdates()?d():i.current.push(d)},[]);(0,D.useEffect)(()=>{const d=us(o.current,e);o.current=e,v(()=>{t.current&&(0,pe._processOnChange)(d,t.current)})},[e]);const C=!D.default.useSyncExternalStore||(0,pe._getGridOption)(e,"renderingMode")==="legacy"?"legacy":"default";return D.default.createElement("div",{style:w,className:e.className,ref:p},D.default.createElement(dt.Provider,{value:C},u&&!u.isDestroyed()?D.default.createElement(os,{context:u}):null,n.current?.getPortals()??null))};function us(e,t){const r={};return Object.keys(t).forEach(n=>{if(_t.has(n)){ls.has(n)&&(0,pe._warn)(274,{prop:n});return}const s=t[n];e[n]!==s&&(r[n]=s)}),r}var ds=class extends pe.BaseComponentWrapper{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const r=this.gridOptions;if((0,pe._getGridOption)(r,"reactiveCustomComponents")){const o=(a=>{switch(a){case"filter":return(0,pe._getGridOption)(r,"enableFilterHandlers")?or:sr;case"floatingFilterComponent":return(0,pe._getGridOption)(r,"enableFilterHandlers")?lr:ir;case"dateComponent":return tr;case"dragAndDropImageComponent":return rr;case"loadingOverlayComponent":return dr;case"noRowsOverlayComponent":return mr;case"statusPanel":return fr;case"toolPanel":return hr;case"menuItem":return pr;case"cellRenderer":return er;case"innerHeaderComponent":return ur}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Qe();break}const s=!t.cellRenderer&&t.name!=="toolPanel";return new Ct(e,this.parent,t,s)}},ps=(0,D.forwardRef)((e,t)=>{const r=(0,D.useContext)(ce),{registry:n,context:s,gos:i,rowModel:o}=r,[a,c]=(0,D.useState)(()=>new Re),[l,u]=(0,D.useState)(()=>new Re),[b,y]=(0,D.useState)(),[p,w]=(0,D.useState)(),v=(0,D.useRef)(),C=(0,D.useRef)(null),d=(0,D.useRef)(),m=(0,D.useMemo)(()=>(0,pe._getGridRegisteredModules)(e.api.getGridId(),b?.rowModelType??"clientSide"),[e]),A=(0,D.useMemo)(()=>a.toString()+" ag-details-row",[a]),x=(0,D.useMemo)(()=>l.toString()+" ag-details-grid",[l]);t&&(0,D.useImperativeHandle)(t,()=>({refresh(){return v.current?.refresh()??!1}})),e.template&&(0,pe._warn)(230);const h=(0,D.useCallback)(O=>{if(C.current=O,!O){v.current=s.destroyBean(v.current),d.current?.();return}const K={toggleCss:(_,S)=>c(f=>f.setClass(_,S)),toggleDetailGridCss:(_,S)=>u(f=>f.setClass(_,S)),setDetailGrid:_=>y(_),setRowData:_=>w(_),getGui:()=>C.current},V=n.createDynamicBean("detailCellRendererCtrl",!0);if(V&&(s.createBean(V),V.init(K,e),v.current=V,i.get("detailRowAutoHeight"))){const _=()=>{if(C.current==null)return;const S=C.current.clientHeight;S!=null&&S>0&&setTimeout(()=>{e.node.setRowHeight(S),((0,pe._isClientSideRowModel)(i,o)||(0,pe._isServerSideRowModel)(i,o))&&o.onRowHeightChanged()},0)};d.current=(0,pe._observeResize)(r,O,_),_()}},[]),T=(0,D.useCallback)(O=>{v.current?.registerDetailWithMaster(O)},[]);return D.default.createElement("div",{className:A,ref:h},b&&D.default.createElement(Gt,{className:x,...b,modules:m,rowData:p,passGridApi:T}))}),ms=class extends pe.VanillaFrameworkOverrides{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:ht,agGroupRowRenderer:ht,agDetailCellRenderer:ps},this.wrapIncoming=(t,r)=>r==="ensureVisible"?zt(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return jt()}},fs=class extends lt.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return lt.default.createElement(Gt,{...this.props,passGridApi:this.setGridApi})}},hs=g("react");function De(e){const{setMethods:t}=(0,hs.useContext)(He);t(e)}function gs(e){De(e)}function Cs(e){return De(e)}function ys(e){return De(e)}function vs(e){return De(e)}function Rs(e){De(e)}function ws(e){De(e)}if(typeof Ie.exports=="object"&&typeof tt=="object"){var Ss=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Object.getOwnPropertyNames(t))!Object.prototype.hasOwnProperty.call(e,s)&&s!==r&&Object.defineProperty(e,s,{get:()=>t[s],enumerable:!(n=Object.getOwnPropertyDescriptor(t,s))||n.enumerable});return e};Ie.exports=Ss(Ie.exports,tt)}return Ie.exports});
